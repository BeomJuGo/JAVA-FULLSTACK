# === Server / Timezone ===
server.port=${PORT:8080}
spring.jackson.time-zone=Asia/Seoul

# --- Cloudinary ---
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}

# 프로필 이미지 업로드 폴더(사용자/트레이너 공용)
cloudinary.folder=healthcare/uploads
cloudinary.upload-preset=Health
cloudinary.thumb-transformation=

# === Datasource (Render PostgreSQL) ===
# Render는 DATABASE_URL을 제공하므로 DataSourceConfig에서 자동으로 처리합니다.
# DATABASE_URL 형식: postgresql://user:password@host:port/database
# DataSourceConfig가 이를 jdbc:postgresql:// 형식으로 변환합니다.
# 
# 대체 환경 변수 (DATABASE_URL이 없을 경우):
# spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/healthcare}
# spring.datasource.username=${DATABASE_USERNAME:${SPRING_DATASOURCE_USERNAME:postgres}}
# spring.datasource.password=${DATABASE_PASSWORD:${SPRING_DATASOURCE_PASSWORD:}}
spring.datasource.driver-class-name=org.postgresql.Driver

# === JPA / Hibernate ===
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Seoul

# === Flyway ===
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# === Swagger (springdoc) ===
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# === JWT ===
jwt.issuer=healthcare-app
jwt.secret=${JWT_SECRET:change-me-use-env}
jwt.access-token-validity-seconds=3600

server.error.include-message=always
server.error.include-binding-errors=always

# JWT
app.jwt.secret=${APP_JWT_SECRET:change-this-super-secret-please-32bytes-min}
app.jwt.exp-min=120

# === OpenAI API ===
openai.api-key=${OPENAI_API_KEY:}
openai.api-url=https://api.openai.com/v1/chat/completions
openai.model=gpt-3.5-turbo

# === CORS ===
# CORS 허용 오리진 (쉼표로 구분)
# 예: app.cors.allowed-origins=https://your-frontend.vercel.app,https://your-frontend.netlify.app
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}

